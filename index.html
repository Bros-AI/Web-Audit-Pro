<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Monitor Pro - Surveillance de Sites Web</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="logo">
                <i class="fas fa-network-wired"></i>
                <span class="logo-text">NetworkMonitor Pro</span>
            </div>
            
            <nav class="nav-menu">
                <a href="#" class="nav-link active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span class="nav-text">Tableau de bord</span>
                </a>
                <a href="#" class="nav-link" data-section="network-view">
                    <i class="fas fa-table"></i>
                    <span class="nav-text">État du réseau</span>
                </a>
                <a href="#" class="nav-link" data-section="detailed-view">
                    <i class="fas fa-list-alt"></i>
                    <span class="nav-text">Vue détaillée</span>
                </a>
                <a href="#" class="nav-link" data-section="analytics">
                    <i class="fas fa-chart-line"></i>
                    <span class="nav-text">Analytique</span>
                </a>
                <a href="#" class="nav-link" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span class="nav-text">Paramètres</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <button class="btn btn-outline btn-icon" id="toggleSidebar">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 class="header-title">Network Monitor Pro</h1>
                </div>
                
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Rechercher sites, tags, ou domaines..." id="searchInput">
                </div>
                
                <div class="d-flex gap-1">
                    <button class="btn btn-success" id="csvImportBtn">
                        <i class="fas fa-file-csv"></i>
                        <span style="margin-left: 0.5rem;">Importer</span>
                    </button>
                    <button class="btn btn-primary" id="addWebsiteBtn">
                        <i class="fas fa-plus"></i>
                        <span style="margin-left: 0.5rem;">Ajouter un site</span>
                    </button>
                    <button class="btn btn-outline" id="checkAllBtn">
                        <i class="fas fa-sync-alt"></i>
                        <span style="margin-left: 0.5rem;">Tout vérifier</span>
                    </button>
                </div>
            </header>

            <!-- Stats -->
            <section class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-globe"></i></div>
                    <div class="stat-content">
                        <div class="stat-value" id="totalWebsites">0</div>
                        <div class="stat-label">Sites web totaux</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, var(--success), #16a34a);"><i class="fas fa-check-circle"></i></div>
                    <div class="stat-content">
                        <div class="stat-value" id="onlineWebsites">0</div>
                        <div class="stat-label">En ligne & Valides</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, var(--warning), #ea580c);"><i class="fas fa-exclamation-triangle"></i></div>
                    <div class="stat-content">
                        <div class="stat-value" id="issueWebsites">0</div>
                        <div class="stat-label">Problèmes détectés</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, var(--info), #0ea5e9);"><i class="fas fa-percentage"></i></div>
                    <div class="stat-content">
                        <div class="stat-value" id="averageAvailability">0%</div>
                        <div class="stat-label">Disponibilité moyenne</div>
                    </div>
                </div>
            </section>

            <!-- Tabs -->
            <div class="tabs">
                <div class="tab active" data-tab="network-status">Matrice d'état du réseau</div>
                <div class="tab" data-tab="detailed-view">Vue détaillée des sites</div>
                <div class="tab" data-tab="analytics">Analytique & Rapports</div>
                <div class="tab" data-tab="settings">Paramètres</div>
            </div>

            <!-- Main Tab Content Area -->
            <div id="main-content-area">
                <!-- Tab content will be dynamically rendered here by ui.js -->
            </div>
        </main>
    </div>

    <!-- Modals and Notifications -->
    <div class="notification-container" id="notificationContainer"></div>
    <!-- Modals will be dynamically created by ui.js -->

    <!-- Dark Mode Toggle -->
    <button class="dark-mode-toggle" id="darkModeToggle"><i class="fas fa-moon"></i></button>

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    
    <!-- ======================================================== -->
    <!--                  CORRECTED SCRIPT ORDER                  -->
    <!-- ======================================================== -->
    
    <!-- 1. Load the main script FIRST to define the NetworkMonitor object -->
    <script src="js/main.js" defer></script>
    
    <!-- 2. Load all other modules that ADD to the NetworkMonitor object -->
    <script src="js/api.js" defer></script>
    <script src="js/ai.js" defer></script> 
    <script src="js/utils.js" defer></script>
    <script src="js/ui.js" defer></script>
    <script src="js/websiteManager.js" defer></script>
    <script src="js/checker.js" defer></script>
    <script src="js/importExport.js" defer></script>
    <script src="js/analytics.js" defer></script>
</body>
</html>